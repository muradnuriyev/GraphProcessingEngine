<UserControl x:Class="GraphProcessingEngine.Gui.Wpf.Views.GraphCanvasView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:GraphProcessingEngine.Gui.Wpf.ViewModels">
    <UserControl.Resources>
        <DropShadowEffect x:Key="DropShadowEffect"
                          ShadowDepth="4"
                          BlurRadius="8"
                          Color="#AA000000" />
    </UserControl.Resources>
    <Grid Background="#0B1220">
        <ItemsControl ItemsSource="{Binding Edges}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <Canvas />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate DataType="{x:Type vm:EdgeViewModel}">
                    <Line X1="{Binding X1}"
                          Y1="{Binding Y1}"
                          X2="{Binding X2}"
                          Y2="{Binding Y2}"
                          Stroke="#3B82F6"
                          StrokeThickness="2"
                          StrokeDashCap="Round"
                          StrokeStartLineCap="Round"
                          StrokeEndLineCap="Round" />
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <ItemsControl ItemsSource="{Binding Nodes}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <Canvas />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate DataType="{x:Type vm:NodeViewModel}">
                    <Border Width="36"
                            Height="36"
                            Background="#1D4ED8"
                            BorderBrush="#60A5FA"
                            BorderThickness="2"
                            CornerRadius="18"
                            Canvas.Left="{Binding X}"
                            Canvas.Top="{Binding Y}"
                            Effect="{DynamicResource DropShadowEffect}">
                        <TextBlock Text="{Binding Id}"
                                   Foreground="White"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center" />
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</UserControl>
